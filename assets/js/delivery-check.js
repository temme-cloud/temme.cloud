(function(){"use strict";const ct=(e,t)=>e===t,Z=Symbol("solid-proxy"),Te=Symbol("solid-track"),ge={equals:ct};let at=Ke;const ee=1,be=2,Ue={owned:null,cleanups:null,context:null,owner:null};var O=null;let Ne=null,ut=null,A=null,I=null,te=null,me=0;function _e(e,t){const n=A,r=O,i=e.length===0,l=t===void 0?r:t,o=i?Ue:{owned:null,cleanups:null,context:l?l.context:null,owner:l},s=i?e:()=>e(()=>oe(()=>de(o)));O=o,A=null;try{return ce(s,!0)}finally{A=n,O=r}}function M(e,t){t=t?Object.assign({},ge,t):ge;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Me(n,i));return[Be.bind(n),r]}function P(e,t,n){const r=Fe(e,t,!1,ee);ke(r)}function D(e,t,n){n=n?Object.assign({},ge,n):ge;const r=Fe(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ke(r),Be.bind(r)}function ft(e){return ce(e,!1)}function oe(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function dt(e){return O===null||(O.cleanups===null?O.cleanups=[e]:O.cleanups.push(e)),e}function De(){return A}function Be(){if(this.sources&&this.state)if(this.state===ee)ke(this);else{const e=I;I=null,ce(()=>$e(this),!1),I=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function Me(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ce(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],o=Ne&&Ne.running;o&&Ne.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?I.push(l):te.push(l),l.observers&&Qe(l)),o||(l.state=ee)}if(I.length>1e6)throw I=[],new Error},!1)),t}function ke(e){if(!e.fn)return;de(e);const t=me;ht(e,e.value,t)}function ht(e,t,n){let r;const i=O,l=A;A=O=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=ee,e.owned&&e.owned.forEach(de),e.owned=null),e.updatedAt=n+1,Ye(o)}finally{A=l,O=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Me(e,r):e.value=r,e.updatedAt=n)}function Fe(e,t,n,r=ee,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:O,context:O?O.context:null,pure:n};return O===null||O!==Ue&&(O.owned?O.owned.push(l):O.owned=[l]),l}function Ve(e){if(e.state===0)return;if(e.state===be)return $e(e);if(e.suspense&&oe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<me);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ee)ke(e);else if(e.state===be){const r=I;I=null,ce(()=>$e(e,t[0]),!1),I=r}}function ce(e,t){if(I)return e();let n=!1;t||(I=[]),te?n=!0:te=[],me++;try{const r=e();return pt(n),r}catch(r){n||(te=null),I=null,Ye(r)}}function pt(e){if(I&&(Ke(I),I=null),e)return;const t=te;te=null,t.length&&ce(()=>at(t),!1)}function Ke(e){for(let t=0;t<e.length;t++)Ve(e[t])}function $e(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===ee?r!==t&&(!r.updatedAt||r.updatedAt<me)&&Ve(r):i===be&&$e(r,t)}}}function Qe(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=be,n.pure?I.push(n):te.push(n),n.observers&&Qe(n))}}function de(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),o=n.observerSlots.pop();r<i.length&&(l.sourceSlots[o]=r,i[r]=l,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)de(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)de(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function vt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ye(e,t=O){throw vt(e)}const yt=Symbol("fallback");function ze(e){for(let t=0;t<e.length;t++)e[t]()}function gt(e,t,n={}){let r=[],i=[],l=[],o=0,s=t.length>1?[]:null;return dt(()=>ze(l)),()=>{let c=e()||[],a=c.length,p,f;return c[Te],oe(()=>{let v,y,g,h,_,$,k,T,j;if(a===0)o!==0&&(ze(l),l=[],r=[],i=[],o=0,s&&(s=[])),n.fallback&&(r=[yt],i[0]=_e(N=>(l[0]=N,n.fallback())),o=1);else if(o===0){for(i=new Array(a),f=0;f<a;f++)r[f]=c[f],i[f]=_e(S);o=a}else{for(g=new Array(a),h=new Array(a),s&&(_=new Array(a)),$=0,k=Math.min(o,a);$<k&&r[$]===c[$];$++);for(k=o-1,T=a-1;k>=$&&T>=$&&r[k]===c[T];k--,T--)g[T]=i[k],h[T]=l[k],s&&(_[T]=s[k]);for(v=new Map,y=new Array(T+1),f=T;f>=$;f--)j=c[f],p=v.get(j),y[f]=p===void 0?-1:p,v.set(j,f);for(p=$;p<=k;p++)j=r[p],f=v.get(j),f!==void 0&&f!==-1?(g[f]=i[p],h[f]=l[p],s&&(_[f]=s[p]),f=y[f],v.set(j,f)):l[p]();for(f=$;f<a;f++)f in g?(i[f]=g[f],l[f]=h[f],s&&(s[f]=_[f],s[f](f))):i[f]=_e(S);i=i.slice(0,o=a),r=c.slice(0)}return i});function S(v){if(l[f]=v,s){const[y,g]=M(f);return s[f]=g,t(c[f],y)}return t(c[f])}}}function E(e,t){return oe(()=>e(t||{}))}const bt=e=>`Stale read from <${e}>.`;function Ge(e){const t="fallback"in e&&{fallback:()=>e.fallback};return D(gt(()=>e.each,e.children,t||void 0))}function V(e){const t=e.keyed,n=D(()=>e.when,void 0,void 0),r=t?n:D(n,void 0,{equals:(i,l)=>!i==!l});return D(()=>{const i=r();if(i){const l=e.children;return typeof l=="function"&&l.length>0?oe(()=>l(t?i:()=>{if(!oe(r))throw bt("Show");return n()})):l}return e.fallback},void 0,void 0)}const Se=e=>D(()=>e());function mt(e,t,n){let r=n.length,i=t.length,l=r,o=0,s=0,c=t[i-1].nextSibling,a=null;for(;o<i||s<l;){if(t[o]===n[s]){o++,s++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===o){const p=l<r?s?n[s-1].nextSibling:n[l-s]:c;for(;s<l;)e.insertBefore(n[s++],p)}else if(l===s)for(;o<i;)(!a||!a.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[s]===t[i-1]){const p=t[--i].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--l],p),t[i]=n[l]}else{if(!a){a=new Map;let f=s;for(;f<l;)a.set(n[f],f++)}const p=a.get(t[o]);if(p!=null)if(s<p&&p<l){let f=o,S=1,v;for(;++f<i&&f<l&&!((v=a.get(t[f]))==null||v!==p+S);)S++;if(S>p-s){const y=t[o];for(;s<p;)e.insertBefore(n[s++],y)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const He="_$DX_DELEGATE";function _t(e,t,n,r={}){let i;return _e(l=>{i=l,t===document?e():m(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function q(e,t,n,r){let i;const l=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},o=()=>(i||(i=l())).cloneNode(!0);return o.cloneNode=o,o}function we(e,t=window.document){const n=t[He]||(t[He]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,kt))}}function L(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ae(e,t){t==null?e.removeAttribute("class"):e.className=t}function Le(e,t,n,r){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function We(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function m(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ce(e,t,r,n);P(i=>Ce(e,t(),i,n),r)}function kt(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,l=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),o=()=>{const c=t[n];if(c&&!t.disabled){const a=t[`${n}Data`];if(a!==void 0?c.call(t,a,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},s=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();l(c[0]);for(let a=0;a<c.length-2&&(t=c[a],!!o());a++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();l(r)}function Ce(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(o){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=ue(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=ue(e,n,r);else{if(l==="function")return P(()=>{let s=t();for(;typeof s=="function";)s=s();n=Ce(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],c=n&&Array.isArray(n);if(Re(s,t,n,i))return P(()=>n=Ce(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=ue(e,n,r),o)return n}else c?n.length===0?Je(e,s,r):mt(e,n,s):(n&&ue(e),Je(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=ue(e,n,r,t);ue(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Re(e,t,n,r){let i=!1;for(let l=0,o=t.length;l<o;l++){let s=t[l],c=n&&n[e.length],a;if(!(s==null||s===!0||s===!1))if((a=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=Re(e,s,c)||i;else if(a==="function")if(r){for(;typeof s=="function";)s=s();i=Re(e,Array.isArray(s)?s:[s],Array.isArray(c)?c:[c])||i}else e.push(s),i=!0;else{const p=String(s);c&&c.nodeType===3&&c.data===p?e.push(c):e.push(document.createTextNode(p))}}return i}function Je(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ue(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(i!==s){const c=s.parentNode===e;!l&&!o?c?e.replaceChild(i,s):e.insertBefore(i,n):c&&s.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}var $t=q("<div class=delivery-check-progress role=progressbar aria-valuemin=1><div class=delivery-check-progress__bar><div class=delivery-check-progress__fill></div></div><span class=delivery-check-progress__text> <!> <!> ");function St(e){const{store:t}=e,{currentStep:n,totalSteps:r,showResults:i,i18n:l}=t,o=D(()=>i()?100:Math.max(5,(n()+1)/r()*100)),s=D(()=>i()?r():n()+1);return(()=>{var c=$t(),a=c.firstChild,p=a.firstChild,f=a.nextSibling,S=f.firstChild,v=S.nextSibling,y=v.nextSibling,g=y.nextSibling;return g.nextSibling,m(f,()=>l.step||"Step",S),m(f,s,v),m(f,()=>l.of||"of",g),m(f,r,null),P(h=>{var _=r(),$=s(),k=`${o()}%`;return _!==h.e&&L(c,"aria-valuemax",h.e=_),$!==h.t&&L(c,"aria-valuenow",h.t=$),k!==h.a&&We(p,"width",h.a=k),h},{e:void 0,t:void 0,a:void 0}),c})()}var wt=q('<label tabindex=0><input class=delivery-check-option__input tabindex=-1><span class=delivery-check-option__card><span class=delivery-check-option__text></span></span><span class=delivery-check-option__check aria-hidden=true><svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3><polyline points="20 6 9 17 4 12">');function Ct(e){const{option:t,questionId:n,isMulti:r,isSelected:i,onSelect:l,getLocalizedText:o}=e,s=a=>{a.preventDefault(),a.stopPropagation(),l(t.value)},c=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),a.stopPropagation(),l(t.value))};return(()=>{var a=wt(),p=a.firstChild,f=p.nextSibling,S=f.firstChild;return a.$$keydown=c,a.$$click=s,L(a,"role",r?"checkbox":"radio"),p.addEventListener("change",()=>{}),p.$$click=v=>v.stopPropagation(),L(p,"type",r?"checkbox":"radio"),L(p,"name",r?`${n}[]`:n),m(S,()=>o(t.label)),P(v=>{var y=`delivery-check-option ${i()?"delivery-check-option--selected":""}`,g=i();return y!==v.e&&ae(a,v.e=y),g!==v.t&&L(a,"aria-checked",v.t=g),v},{e:void 0,t:void 0}),P(()=>p.value=t.value),P(()=>p.checked=i()),a})()}we(["click","keydown"]);var xt=q("<div class=delivery-check-step><h2 class=delivery-check-step__title></h2><div>"),At=q("<p class=delivery-check-step__description>"),Et=q("<p class=delivery-check-hint>");const Ot=250;function Pt(e){const{store:t}=e,{currentQuestion:n,responses:r,selectOption:i,goToNext:l,getLocalizedText:o,i18n:s}=t,c=D(()=>n()),a=D(()=>{var v;return((v=c())==null?void 0:v.type)==="multi"}),p=D(()=>{var v;return(v=c())==null?void 0:v.id}),f=v=>{const y=r[p()];return a()?(y||[]).includes(v):y===v},S=v=>{const y=p(),g=a();i(y,v,g),g||setTimeout(()=>{l()},Ot)};return(()=>{var v=xt(),y=v.firstChild,g=y.nextSibling;return m(y,()=>{var h;return o((h=c())==null?void 0:h.title)}),m(v,(()=>{var h=Se(()=>{var _;return!!((_=c())!=null&&_.text)});return()=>h()&&(()=>{var _=At();return m(_,()=>{var $;return o(($=c())==null?void 0:$.text)}),_})()})(),g),m(g,E(Ge,{get each(){var h;return((h=c())==null?void 0:h.options)||[]},children:h=>E(Ct,{option:h,get questionId(){return p()},get isMulti(){return a()},isSelected:()=>f(h.value),onSelect:S,getLocalizedText:o})})),m(v,(()=>{var h=Se(()=>!!a());return()=>h()&&(()=>{var _=Et();return m(_,(()=>{var $=Se(()=>{var k;return!!((k=c())!=null&&k.helper)});return()=>$()?o(c().helper):s.selectMultiple||"Multiple selections allowed"})()),_})()})(),null),P(h=>{var j;var _=p(),$=`delivery-check-options ${a()?"delivery-check-options--multi":""}`,k=a()?"group":"radiogroup",T=o((j=c())==null?void 0:j.title);return _!==h.e&&L(v,"data-question-id",h.e=_),$!==h.t&&ae(g,h.t=$),k!==h.a&&L(g,"role",h.a=k),T!==h.o&&L(g,"aria-label",h.o=T),h},{e:void 0,t:void 0,a:void 0,o:void 0}),v})()}var Tt=q('<div class="delivery-check-step delivery-check-contact"><h2 class=delivery-check-step__title></h2><p class=delivery-check-step__description></p><div class=delivery-check-fields><div><label for=contact-name class=delivery-check-field__label> <span aria-hidden=true>*</span></label><input type=text id=contact-name name=name required autocomplete=name class=delivery-check-field__input></div><div><label for=contact-email class=delivery-check-field__label> <span aria-hidden=true>*</span></label><input type=email id=contact-email name=email required autocomplete=email class=delivery-check-field__input></div><div><label for=contact-company class=delivery-check-field__label> <span aria-hidden=true>*</span></label><input type=text id=contact-company name=company required autocomplete=organization class=delivery-check-field__input></div><div class=delivery-check-field><label for=contact-phone class=delivery-check-field__label></label><input type=tel id=contact-phone name=phone autocomplete=tel class=delivery-check-field__input></div><div><label class=delivery-check-checkbox><input type=checkbox id=contact-gdpr name=gdpr-consent required><span class=delivery-check-checkbox__mark></span><span class=delivery-check-checkbox__label> (<a target=_blank rel=noopener></a>)</span></label></div></div><button type=button id=delivery-check-contact-submit style=display:none>');function Nt(e){const{store:t,privacyUrl:n}=e,{i18n:r,submitForm:i,isSubmitting:l,setSubmitError:o}=t,[s,c]=M(""),[a,p]=M(""),[f,S]=M(""),[v,y]=M(""),[g,h]=M(!1),[_,$]=M({}),k=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),T=()=>{const N={};return s().trim()||(N.name=!0),(!a().trim()||!k(a()))&&(N.email=!0),f().trim()||(N.company=!0),g()||(N.gdpr=!0),$(N),Object.keys(N).length>0?(o(r.fillRequired||"Please fill in all required fields."),!1):!0},j=N=>{N.preventDefault(),T()&&i({name:s(),email:a(),company:f(),phone:v()})};return(()=>{var N=Tt(),K=N.firstChild,Q=K.nextSibling,F=Q.nextSibling,ne=F.firstChild,C=ne.firstChild,B=C.firstChild,Y=C.nextSibling,H=ne.nextSibling,W=H.firstChild,qe=W.firstChild,Oe=W.nextSibling,re=H.nextSibling,ye=re.firstChild,ie=ye.firstChild,Pe=ye.nextSibling,u=re.nextSibling,d=u.firstChild,b=d.nextSibling,w=u.nextSibling,R=w.firstChild,U=R.firstChild,J=U.nextSibling,le=J.nextSibling,G=le.firstChild,se=G.nextSibling,X=F.nextSibling;return m(K,()=>r.contactTitle||"Almost there!"),m(Q,()=>r.contactDescription||"Enter your contact details to receive your personalized results."),m(C,()=>r.fieldName||"Name",B),Y.$$input=x=>c(x.target.value),m(W,()=>r.fieldEmail||"Email",qe),Oe.$$input=x=>p(x.target.value),m(ye,()=>r.fieldCompany||"Company",ie),Pe.$$input=x=>S(x.target.value),m(d,()=>r.fieldPhone||"Phone (optional)"),b.$$input=x=>y(x.target.value),U.addEventListener("change",x=>h(x.target.checked)),m(le,()=>r.gdprConsent||"I agree to the Privacy Policy and consent to being contacted.",G),L(se,"href",n),m(se,()=>r.gdprLink||"Privacy Policy"),X.$$click=j,P(x=>{var it=`delivery-check-field ${_().name?"delivery-check-field--error":""}`,lt=`delivery-check-field ${_().email?"delivery-check-field--error":""}`,st=`delivery-check-field ${_().company?"delivery-check-field--error":""}`,ot=`delivery-check-field delivery-check-field--checkbox ${_().gdpr?"delivery-check-field--error":""}`;return it!==x.e&&ae(ne,x.e=it),lt!==x.t&&ae(H,x.t=lt),st!==x.a&&ae(re,x.a=st),ot!==x.o&&ae(w,x.o=ot),x},{e:void 0,t:void 0,a:void 0,o:void 0}),P(()=>Y.value=s()),P(()=>Oe.value=a()),P(()=>Pe.value=f()),P(()=>b.value=v()),P(()=>U.checked=g()),N})()}function Dt(){const e=document.getElementById("delivery-check-contact-submit");e&&e.click()}we(["input","click"]);var Lt=q("<div class=delivery-check-results aria-live=polite><div class=delivery-check-results__header><h2 class=delivery-check-results__title></h2></div><div class=delivery-check-results__score><div class=delivery-check-results__level><span class=delivery-check-results__badge></span></div><div class=delivery-check-results__points> </div></div><div class=delivery-check-results__interpretation><p></p></div><div class=delivery-check-results__recommendations><h3></h3><ul></ul></div><div class=delivery-check-results__cta><p></p><a class=btn-filled></a></div><div class=delivery-check-results__restart><button type=button class=delivery-check-nav__mini-btn>↺"),Rt=q("<li>");function It(e){const{store:t,contactUrl:n}=e,{totalScore:r,maturityLevel:i,getLocalizedText:l,generateRecommendations:o,restart:s,i18n:c}=t,a=D(()=>o());return(()=>{var p=Lt(),f=p.firstChild,S=f.firstChild,v=f.nextSibling,y=v.firstChild,g=y.firstChild,h=y.nextSibling,_=h.firstChild,$=v.nextSibling,k=$.firstChild,T=$.nextSibling,j=T.firstChild,N=j.nextSibling,K=T.nextSibling,Q=K.firstChild,F=Q.nextSibling,ne=K.nextSibling,C=ne.firstChild;return m(S,()=>c.resultsTitle||"Your Results"),m(g,()=>l(i().label)),m(h,r,_),m(h,()=>c.points||"Points",null),m(k,()=>l(i().interpretation)),m(j,()=>c.recommendationsTitle||"Recommendations for You"),m(N,E(Ge,{get each(){return a()},children:B=>(()=>{var Y=Rt();return m(Y,B),Y})()})),m(Q,()=>c.resultsCTA||"Want to learn more? We'd be happy to help improve your delivery process."),L(F,"href",n),m(F,()=>c.bookConsultation||"Book Free Consultation"),Le(C,"click",s),P(B=>{var Y=i().color,H=c.restart||"Start over",W=c.restart||"Start over";return Y!==B.e&&We(g,"background-color",B.e=Y),H!==B.t&&L(C,"aria-label",B.t=H),W!==B.a&&L(C,"title",B.a=W),B},{e:void 0,t:void 0,a:void 0}),p})()}we(["click"]);var jt=q("<button type=button class=delivery-check-nav__mini-btn>↺"),qt=q("<button type=button class=delivery-check-nav__mini-btn>←"),Ut=q('<button type=button class="btn-filled delivery-check-nav__next">'),Bt=q('<button type=button class="btn-filled delivery-check-nav__submit">'),Mt=q("<div class=delivery-check-nav><div class=delivery-check-nav__mini-buttons>");function Ft(e){const{store:t}=e,{currentStep:n,isContactStep:r,goToNext:i,goToPrevious:l,restart:o,isSubmitting:s,i18n:c}=t,a=D(()=>n()===0),p=()=>{i()},f=()=>{Dt()};return(()=>{var S=Mt(),v=S.firstChild;return m(v,E(V,{get when(){return r()},get children(){var y=jt();return Le(y,"click",o),P(g=>{var h=c.restart||"Start over",_=c.restart||"Start over";return h!==g.e&&L(y,"aria-label",g.e=h),_!==g.t&&L(y,"title",g.t=_),g},{e:void 0,t:void 0}),y}}),null),m(v,E(V,{get when(){return!a()},get children(){var y=qt();return Le(y,"click",l),P(g=>{var h=c.back||"Back",_=c.back||"Back";return h!==g.e&&L(y,"aria-label",g.e=h),_!==g.t&&L(y,"title",g.t=_),g},{e:void 0,t:void 0}),y}}),null),m(S,E(V,{get when(){return!r()},get children(){var y=Ut();return y.$$click=p,m(y,()=>c.next||"Continue"),P(()=>L(y,"aria-label",c.next||"Continue")),y}}),null),m(S,E(V,{get when(){return r()},get children(){var y=Bt();return y.$$click=f,m(y,(()=>{var g=Se(()=>!!s());return()=>g()?c.submitting||"Submitting...":c.submit||"Submit & View Results"})()),P(()=>y.disabled=s()),y}}),null),S})()}we(["click"]);var Vt=q("<div class=delivery-check-error role=alert>");function Kt(e){const{store:t,privacyUrl:n,contactUrl:r}=e,{isContactStep:i,showResults:l,submitError:o}=t;return[E(V,{get when(){return!l()},get children(){return E(St,{store:t})}}),E(V,{get when(){return!l()},get children(){return[E(V,{get when(){return!i()},get children(){return E(Pt,{store:t})}}),E(V,{get when(){return i()},get children(){return E(Nt,{store:t,privacyUrl:n})}})]}}),E(V,{get when(){return l()},get children(){return E(It,{store:t,contactUrl:r})}}),E(V,{get when(){return o()},get children(){var s=Vt();return m(s,o),s}}),E(V,{get when(){return!l()},get children(){return E(Ft,{store:t})}})]}const Ie=Symbol("store-raw"),fe=Symbol("store-node"),z=Symbol("store-has"),Xe=Symbol("store-self");function Ze(e){let t=e[Z];if(!t&&(Object.defineProperty(e,Z,{value:t=new Proxy(e,zt)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,l=n.length;i<l;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function xe(e){let t;return e!=null&&typeof e=="object"&&(e[Z]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function he(e,t=new Set){let n,r,i,l;if(n=e!=null&&e[Ie])return n;if(!xe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,s=e.length;o<s;o++)i=e[o],(r=he(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let c=0,a=o.length;c<a;c++)l=o[c],!s[l].get&&(i=e[l],(r=he(i,t))!==i&&(e[l]=r))}return e}function Ae(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function pe(e,t,n){if(e[t])return e[t];const[r,i]=M(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function Qt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Z||t===fe||(delete n.value,delete n.writable,n.get=()=>e[Z][t]),n}function et(e){De()&&pe(Ae(e,fe),Xe)()}function Yt(e){return et(e),Reflect.ownKeys(e)}const zt={get(e,t,n){if(t===Ie)return e;if(t===Z)return n;if(t===Te)return et(e),n;const r=Ae(e,fe),i=r[t];let l=i?i():e[t];if(t===fe||t===z||t==="__proto__")return l;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);De()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(l=pe(r,t,l)())}return xe(l)?Ze(l):l},has(e,t){return t===Ie||t===Z||t===Te||t===fe||t===z||t==="__proto__"?!0:(De()&&pe(Ae(e,z),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Yt,getOwnPropertyDescriptor:Qt};function Ee(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],l=e.length;n===void 0?(delete e[t],e[z]&&e[z][t]&&i!==void 0&&e[z][t].$()):(e[t]=n,e[z]&&e[z][t]&&i===void 0&&e[z][t].$());let o=Ae(e,fe),s;if((s=pe(o,t,i))&&s.$(()=>n),Array.isArray(e)&&e.length!==l){for(let c=e.length;c<l;c++)(s=o[c])&&s.$();(s=pe(o,"length",l))&&s.$(e.length)}(s=o[Xe])&&s.$()}function tt(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Ee(e,i,t[i])}}function Gt(e,t){if(typeof t=="function"&&(t=t(e)),t=he(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Ee(e,n,i)}Ee(e,"length",r)}else tt(e,t)}function ve(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)ve(e,[r[c]].concat(t),n);return}else if(s&&o==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&ve(e,[c].concat(t),n);return}else if(s&&o==="object"){const{from:c=0,to:a=e.length-1,by:p=1}=r;for(let f=c;f<=a;f+=p)ve(e,[f].concat(t),n);return}else if(t.length>1){ve(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let l=t[0];typeof l=="function"&&(l=l(i,n),l===i)||r===void 0&&l==null||(l=he(l),r===void 0||xe(i)&&xe(l)&&!Array.isArray(l)?tt(i,l):Ee(e,r,l))}function nt(...[e,t]){const n=he(e||{}),r=Array.isArray(n),i=Ze(n);function l(...o){ft(()=>{r&&o.length===1?Gt(n,o[0]):ve(n,o)})}return[i,l]}const je="temme-delivery-check",Ht=7;function Wt(e,t,n){const r=e.questions,i=e.results,l=n.language||"de",o=n.variant||"default",[s,c]=M(0),[a,p]=nt({}),[f,S]=nt({}),[v,y]=M(!1),[g,h]=M(null),[_,$]=M(!1),k=D(()=>{var b;const u=[];let d=(b=r[0])==null?void 0:b.id;for(;d&&d!=="contact"&&d!=="end";){const w=F(d);if(!w)break;u.push(d);const R=a[d];d=ne(w,R)}return u}),T=D(()=>k().length+1),j=D(()=>{const u=k(),d=s();return d<u.length?F(u[d]):null}),N=D(()=>s()>=k().length),K=D(()=>Object.values(f).reduce((u,d)=>u+(d||0),0)),Q=D(()=>{const u=K();for(const d of i.levels)if(u>=d.min&&u<=d.max)return d;return i.levels[0]});function F(u){return r.find(d=>d.id===u)}function ne(u,d){if(!u)return"contact";if(!d)return u.next||"contact";if(u.type==="single"&&typeof d=="string"){const b=u.options.find(w=>w.value===d);if(b!=null&&b.next)return b.next}return u.next||"contact"}function C(u){return u?typeof u=="string"?u:u[l]||u.de||u.en||"":""}function B(u,d,b=!1){const w=F(u);if(w){if(h(null),b){const R=a[u]||[],U=R.indexOf(d);let J;U===-1?J=[...R,d]:J=R.filter(G=>G!==d),p(u,J);const le=J.reduce((G,se)=>{const X=w.options.find(x=>x.value===se);return G+((X==null?void 0:X.score)||0)},0);S(u,le)}else{p(u,d);const R=w.options.find(U=>U.value===d);S(u,(R==null?void 0:R.score)||0)}re()}}function Y(){const u=s(),d=k();if(u<d.length){const b=d[u],w=a[b];return F(b),!w||Array.isArray(w)&&w.length===0?(h(t.selectRequired||"Please select an option."),!1):(h(null),c(u+1),re(),!0)}return!1}function H(){const u=s();u>0&&(h(null),c(u-1),re())}function W(){const u={summary:{},details:[]};return k().forEach(d=>{const b=F(d),w=a[d],R=f[d]||0;if(!b||w===void 0||w===null)return;const U=C(b.title),J=C(b.text),le=Array.isArray(w)?w:[w],G=le.map(se=>{const X=b.options.find(x=>x.value===se);return X?C(X.label):se});u.summary[U]=G.join(", "),u.details.push({id:d,title:U,question:J,selected:le,selectedLabels:G,score:R})}),u.totalScore=K(),u.maturityLevel=C(Q().label),u.language=l,u.variant=o,u}function qe(){const u=[],d=i.recommendations,b=Q().key;a.delivery==="manual"&&d.manual&&u.push(C(d.manual)),a.delivery==="none-delivery"&&d["none-delivery"]&&u.push(C(d["none-delivery"])),a.risk==="regulated"&&d.regulated&&u.push(C(d.regulated)),a.ops==="reactive"&&d.reactive&&u.push(C(d.reactive)),a.handover==="throw-over"&&d["throw-over"]&&u.push(C(d["throw-over"])),a.handover==="none-handover"&&d["none-handover"]&&u.push(C(d["none-handover"])),a.team==="none-team"&&d["none-team"]&&u.push(C(d["none-team"])),a.security==="none-security"&&d["none-security"]&&u.push(C(d["none-security"]));const w=a.blockers||[];return w.includes("flaky-tests")&&d["flaky-tests"]&&u.push(C(d["flaky-tests"])),w.includes("unsure-blockers")&&d["unsure-blockers"]&&u.push(C(d["unsure-blockers"])),d[b]&&u.push(C(d[b])),u.slice(0,4)}async function Oe(u){y(!0),h(null);try{const d=W(),b=new URLSearchParams;if(b.append("form-name","delivery-check"),b.append("name",u.name),b.append("email",u.email),b.append("company",u.company),b.append("phone",u.phone||""),b.append("gdpr-consent","true"),b.append("delivery-check-version","2.0"),b.append("delivery-check-variant",o),b.append("delivery-check-language",l),b.append("delivery-check-score",String(K())),b.append("delivery-check-maturity",C(Q().label)),b.append("delivery-check-responses",JSON.stringify(d,null,2)),b.append("delivery-check-timestamp",new Date().toISOString()),!(await fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b.toString()})).ok)throw new Error("Form submission failed");ie(),$(!0)}catch(d){console.error("Submission error:",d),h(t.submitError||"An error occurred. Please try again.")}finally{y(!1)}}function re(){try{const u={currentStep:s(),responses:{...a},scores:{...f},variant:o,savedAt:new Date().toISOString()};localStorage.setItem(je,JSON.stringify(u))}catch(u){console.warn("Could not save progress:",u)}}function ye(){try{const u=localStorage.getItem(je);if(!u)return!1;const d=JSON.parse(u),b=new Date(d.savedAt);return(Date.now()-b.getTime())/(1e3*60*60*24)>Ht||d.variant!==o?(ie(),!1):(d.responses&&Object.entries(d.responses).forEach(([R,U])=>{p(R,U)}),d.scores&&Object.entries(d.scores).forEach(([R,U])=>{S(R,U)}),typeof d.currentStep=="number"&&c(d.currentStep),!0)}catch(u){return console.warn("Could not load progress:",u),ie(),!1}}function ie(){try{localStorage.removeItem(je)}catch(u){console.warn("Could not clear progress:",u)}}function Pe(){ie(),c(0),h(null),$(!1),Object.keys(a).forEach(u=>{p(u,void 0)}),Object.keys(f).forEach(u=>{S(u,void 0)})}return ye(),{currentStep:s,totalSteps:T,currentQuestion:j,isContactStep:N,responses:a,scores:f,totalScore:K,maturityLevel:Q,isSubmitting:v,submitError:g,showResults:_,questionPath:k,getQuestionById:F,getLocalizedText:C,generateRecommendations:qe,selectOption:B,goToNext:Y,goToPrevious:H,restart:Pe,submitForm:Oe,setSubmitError:h,language:l,variant:o,i18n:t,config:n}}function rt(){const e=document.getElementById("delivery-check-container");if(!e)return;const t=e.dataset.lang||"de",n=e.dataset.variant||"default",r=e.dataset.privacyUrl||`/${t}/datenschutz/`,i=e.dataset.contactUrl||`/${t}/contact/`,l=window.DELIVERY_CHECK_QUESTIONS,o=window.DELIVERY_CHECK_I18N||{};if(!l||!l.questions){console.error("Delivery Check: Questions data not found"),e.textContent="Error loading quiz. Please refresh the page.";return}const s=Wt(l,o,{language:t,variant:n});for(;e.firstChild;)e.removeChild(e.firstChild);_t(()=>E(Kt,{store:s,privacyUrl:r,contactUrl:i,containerRef:e}),e)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",rt):rt()})();
